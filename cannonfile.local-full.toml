name = "phasor-v2-local-full"
version = "<%= package.version %>"
description = "Full local deployment with 12 test tokens for DEX testing"
keywords = ["DEX", "Monad", "Testing"]

privateSourceCode = false

# Main settings for Factory and Router
[var.main]
owner = "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"

# Deploy WMON (Wrapped Monad) - WETH9 implementation
[deploy.WMON]
artifact = "WETH9"

[deploy.UniswapV2Factory]
artifact = "packages/core/contracts/UniswapV2Factory.sol:UniswapV2Factory"
args = ["<%= settings.owner %>"]

[deploy.UniswapV2Router]
artifact = "UniswapV2Router02"
args = ["<%= contracts.UniswapV2Factory.address %>", "<%= contracts.WMON.address %>"]

# Stablecoins (6 decimals, large supply for realistic liquidity pools)
[deploy.USDC]
artifact = "packages/core/contracts/test/MockUSDC.sol:MockUSDC"
args = ["<%= BigInt(10000000000000) %>"]  # 10,000,000 * 10^6

[deploy.USDT]
artifact = "packages/core/contracts/test/MockUSDT.sol:MockUSDT"
args = ["<%= BigInt(10000000000000) %>"]  # 10,000,000 * 10^6

# Volatile assets with custom decimals
[deploy.WETH]
artifact = "WETH9"

[deploy.WBTC]
artifact = "packages/core/contracts/test/MockWBTC.sol:MockWBTC"
args = ["<%= BigInt(1000000000000) %>"]  # 10,000 * 10^8

[deploy.SOL]
artifact = "packages/core/contracts/test/MockSOL.sol:MockSOL"
args = ["<%= BigInt(10000000000000) %>"]  # 10,000 * 10^9

# DeFi token (6 decimals, large supply for realistic liquidity)
[deploy.FOLKS]
artifact = "packages/core/contracts/test/MockFOLKS.sol:MockFOLKS"
args = ["<%= BigInt(5000000000000) %>"]  # 5,000,000 * 10^6

# Note: Generic ERC20 tokens (DAK, CHOG, YAKI, TKN1, TKN2) can be added manually after deployment if needed
# For now, we deploy 7 core tokens with different decimal precisions which provides good test coverage

# ============================================================================
# PHASOR Token Ecosystem
# ============================================================================

# Native PHASOR token
[deploy.PhasorToken]
artifact = "packages/phasor-contracts/contracts/token/PhasorToken.sol:PhasorToken"

# MasterChef farming contract
[deploy.MasterChef]
artifact = "packages/phasor-contracts/contracts/farming/MasterChef.sol:MasterChef"
args = [
    "<%= contracts.PhasorToken.address %>",
    "<%= BigInt(100000000000000000000) %>",
    "1"
]
depends = ["deploy.PhasorToken"]

# Transfer PhasorToken ownership to MasterChef so it can mint rewards
[invoke.transfer_phasor_ownership]
target = ["PhasorToken"]
func = "transferOwnership"
args = ["<%= contracts.MasterChef.address %>"]
depends = ["deploy.MasterChef"]

# ============================================================================
# Launchpad Ecosystem
# ============================================================================

# FairLaunch template (for cloning)
[deploy.FairLaunchTemplate]
artifact = "packages/phasor-contracts/contracts/launchpad/FairLaunch.sol:FairLaunch"
depends = ["deploy.UniswapV2Router"]

# LaunchpadFactory
[deploy.LaunchpadFactory]
artifact = "packages/phasor-contracts/contracts/launchpad/LaunchpadFactory.sol:LaunchpadFactory"
args = [
    "<%= contracts.UniswapV2Factory.address %>",
    "<%= contracts.UniswapV2Router.address %>",
    "<%= contracts.WMON.address %>",
    "<%= contracts.FairLaunchTemplate.address %>",
    "<%= settings.owner %>",
    "200"
]
depends = ["deploy.FairLaunchTemplate"]
